# 模型评测

知识问答系统的性能变化较大，比如我们因为参数的设置观察到问答的结果充满幻觉或者错误回答，为次我们搭建了一个系统来

1. 用更系统的方式评测问答的结果
2. 通过评测来更新QA链中参数的设置, 比如分块大小，模型选择等等。

使用着可以运行`evaluate.py`, 将根据文字内容进行比较，返回比较正确与错误，最后根据问题的数据，计算整个的准确率。最后会生成一个表格，将问题、背景文本、答案、标准答案、评分对比， 表格的格式如下：

| 问题   |      背景文本      |    答案|  标准答案 |   评分  |
|----------|:-------------:|------:|--------:|------------:|
| TensorBoard是什么？ |  TensorBoard：TensorFlow 的可视化工具包  TensorBoard 提供机器学习实验所 需的可视化功能和工具：* 跟踪和可视化损失及准确率等指标* 可视化模型图（操作和层）* 查看权重、偏差或其他张量随时间变化的直方图 * 将嵌入投射到较低的维度空间 * 显示图片、文字和音频数据 * 剖析 TensorFlow 程序 * 以及更多功能 | TensorBoard是TensorFlow的可视化工具包，提供机器学习实验所需的可视化功能和工具。|TensorBoard是TensorFlow的可视化工具包，提供机器学习实验所需的可视化功能和工具。| 正确|
| 您能告诉我 Tensorflow的avg_pool 的源代码吗？ | tf.nn.avg_pool. Performs the avg pooling on the input. tf.nn.avg_pool(input, ksize, strides, padding, data_format=None, name=None). Each entry in output is the mean of the corresponding size ksize window in value. Args: input: Tensor of rank N+2, of shape [batch_size] + input_spatial_shape + [num_channels] if data_format does not start with "NC" (default), or [batch_size, num_channels] + input_spatial_shape if data_format starts with "NC". Pooling happens over the spatial dimensions only. ksize: An int or list of ints that has length 1, N or N+2. The size of the window for each dimension of the input tensor. strides：An int or list of ints that has length 1, N or N+2. The stride of the sliding window for each dimension of the input tensor. padding: A string, either 'VALID' or 'SAME'. The padding algorithm. See here for more information. data_format: A string. Specifies the channel dimension. For N=1 it can be either "NWC" (default) or "NCW", for N=2 it can be either "NHWC" (default) or "NCHW" and for N=3 either "NDHWC" (default) or "NCDHW". name:	Optional name for the operation.Returns. A Tensor of format specified by data_format. The average pooled output tensor. |   tf.nn.avg_pool(input, ksize, strides, padding, data_format=None, name=None) |tf.nn.avg_pool(input, ksize, strides, padding, data_format=None, name=None)| 正确 |
| 介绍Tensorflow的avg_pool的作用。 | tf.nn.avg_pool. Performs the avg pooling on the input. tf.nnavg_pool(input, ksize, strides, padding, data_format=None, name=None). Each entry in output is the mean of the corresponding size ksize window in value. Args: input: Tensor of rank N+2, of shape [batch_size] + input_spatial_shape + [num_channels] if data_format does not start with "NC" (default), or [batch_size, num_channels] + input_spatial_shape if data_format starts with "NC". Pooling happens over the spatial dimensions only. ksize: An int or list of ints that has length 1, N or N+2. The size of the window for each dimension of the input tensor. strides：An int or list of ints that has length 1, N or N+2. The stride of the sliding window for each dimension of the input tensor. padding: A string, either 'VALID' or 'SAME'. The padding algorithm. See here for more information. data_format: A string. Specifies the channel dimension. For N=1 it can be either "NWC" (default) or "NCW", for N=2 it can be either "NHWC" (default) or "NCHW" and for N=3 either "NDHWC" (default) or "NCDHW". name:	Optional name for the operation.Returns. A Tensor of format specified by data_format. The average pooled output tensor.|    Performs the avg pooling on the input. | Performs the avg pooling on the input. |正确|


